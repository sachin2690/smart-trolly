<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Gateway - Shopping Mall</title>
    <style>
        /* Existing CSS */
    </style>
</head>
<body>
    <header>
        <img src="cu.png" alt="Company Logo">
        <div class="heading">Smart Trolly System</div>
        <nav>
            <a href="home.html">Home</a>
            <a href="tel:770085614">Contact</a>
            <a href="#">About</a>
        </nav>
    </header>

    <div class="container">
        <h1>Payment Gateway</h1>

        <div class="total">Total: â‚¹<span id="totalAmount">0</span></div>

        <div class="payment-options">
            <button onclick="makePayment('UPI')">
                <img src="upi.png" alt="UPI Payment">
                <p>UPI</p>
            </button>
            <button onclick="makePayment('Internet Banking')">
                <img src="internet.png" alt="Internet Banking Payment">
                <p>Internet Banking</p>
            </button>
            <button onclick="makePayment('Credit Card')">
                <img src="card.jpeg" alt="Credit Card Payment">
                <p>Card Payment</p>
            </button>
        </div>

        <div style="text-align: center; margin-top: 20px;">
            <a href="home.html" style="text-decoration: none; color: #4CAF50; font-weight: bold;">Return to Home</a>
        </div>
    </div>

    <script>
        async function fetchTotalAmount() {
            const sheetID = '1CcHGUCvTEhqKqg5iVRxiPh80UPDAlwX3RoPq4k-Vtjo'; // Replace with your Google Sheet ID
            const sheet3Gid = '202892615'; // Replace with the GID for Sheet 3
            const url = `https://docs.google.com/spreadsheets/d/${sheetID}/gviz/tq?tqx=out:csv&gid=${sheet3Gid}`;

            try {
                const response = await fetch(url);
                const data = await response.text();
                const rows = data.split('\n');
                const total = rows[1].split(',')[1]; // Adjust index based on Sheet 3's structure
                document.getElementById('totalAmount').textContent = total;
            } catch (error) {
                console.error('Error fetching total amount:', error);
            }
        }

        function makePayment(method) {
            alert(`Payment initiated via ${method}.`);
        }

        // Fetch total amount when the page loads
        window.onload = fetchTotalAmount;
    </script>
</body>
</html>
